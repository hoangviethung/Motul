{"version":3,"sources":["gmap.js"],"names":["markers","getLocationInViewPort","map","locations","bounds","getBounds","markerInViewPort","j","length","marker2","google","maps","Marker","position","LatLng","lat","lng","contains","getPosition","push","initialize","document","querySelectorAll","marker","i","mapOptions","zoom","center","mapTypeId","MapTypeId","ROADMAP","styles","featureType","elementType","stylers","saturation","color","lightness","visibility","weight","gamma","Map","getElementById","name","address","phone","infowindow","InfoWindow","event","addListener","close","animation","Animation","BOUNCE","icon","setCenter","setContent","concat","getAnimation","setAnimation","open","listMapInViewPort","innerHTML","forEach","location","console","log","input","searchBox","places","SearchBox","setBounds","LatLngBounds","getPlaces","setMap","place","geometry","Size","Point","title","viewport","union","extend","fitBounds","addDomListener","window","myClick","id","trigger","$","animate","scrollTop","offset","top"],"mappings":"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","file":"gmap.min.js","sourcesContent":["var markers = [];\r\n\r\nfunction getLocationInViewPort(map, locations) {\r\n\tvar bounds = map.getBounds();\r\n\tvar markerInViewPort = [];\r\n\tfor (var j = 0; j < locations.length; j++) {\r\n\t\tvar marker2 = new google.maps.Marker({\r\n\t\t\tposition: new google.maps.LatLng(locations[j].lat, locations[j].lng),\r\n\t\t});\r\n\t\tif (bounds.contains(marker2.getPosition()) === true) {\r\n\t\t\tmarkerInViewPort.push(locations[j])\r\n\t\t}\r\n\t}\r\n\t// Array.prototype.forEach.call(markerInViewPort, function (location) {\r\n\t// \tconsole.log(location)\r\n\t// })\r\n\treturn markerInViewPort;\r\n}\r\n\r\nfunction initialize() {\r\n\tif (document.querySelectorAll(\"#map\").length > 0) {\r\n\t\tvar mapOptions = {\r\n\t\t\tzoom: 12,\r\n\t\t\tcenter: new google.maps.LatLng(10.763806, 106.691302),\r\n\t\t\tmapTypeId: google.maps.MapTypeId.ROADMAP,\r\n\t\t\tstyles: [{ \"featureType\": \"all\", \"elementType\": \"labels.text.fill\", \"stylers\": [{ \"saturation\": 36 }, { \"color\": \"#000000\" }, { \"lightness\": 40 }] }, { \"featureType\": \"all\", \"elementType\": \"labels.text.stroke\", \"stylers\": [{ \"visibility\": \"on\" }, { \"color\": \"#000000\" }, { \"lightness\": 16 }] }, { \"featureType\": \"all\", \"elementType\": \"labels.icon\", \"stylers\": [{ \"visibility\": \"off\" }] }, { \"featureType\": \"administrative\", \"elementType\": \"geometry.fill\", \"stylers\": [{ \"color\": \"#000000\" }, { \"lightness\": 20 }] }, { \"featureType\": \"administrative\", \"elementType\": \"geometry.stroke\", \"stylers\": [{ \"color\": \"#000000\" }, { \"lightness\": 17 }, { \"weight\": 1.2 }] }, { \"featureType\": \"landscape\", \"elementType\": \"geometry\", \"stylers\": [{ \"color\": \"#000000\" }, { \"lightness\": 20 }] }, { \"featureType\": \"landscape\", \"elementType\": \"labels.text\", \"stylers\": [{ \"saturation\": \"-6\" }, { \"lightness\": \"12\" }] }, { \"featureType\": \"poi\", \"elementType\": \"geometry\", \"stylers\": [{ \"color\": \"#000000\" }, { \"lightness\": 21 }] }, { \"featureType\": \"road\", \"elementType\": \"labels.text.fill\", \"stylers\": [{ \"saturation\": \"1\" }, { \"lightness\": \"-1\" }, { \"visibility\": \"on\" }, { \"color\": \"#a2a2a2\" }] }, { \"featureType\": \"road.highway\", \"elementType\": \"geometry\", \"stylers\": [{ \"saturation\": \"9\" }, { \"gamma\": \"0.93\" }, { \"visibility\": \"simplified\" }] }, { \"featureType\": \"road.highway\", \"elementType\": \"geometry.fill\", \"stylers\": [{ \"lightness\": 17 }, { \"visibility\": \"simplified\" }, { \"color\": \"#4f4f4f\" }] }, { \"featureType\": \"road.highway\", \"elementType\": \"geometry.stroke\", \"stylers\": [{ \"color\": \"#000000\" }, { \"lightness\": 29 }, { \"weight\": 0.2 }] }, { \"featureType\": \"road.arterial\", \"elementType\": \"geometry\", \"stylers\": [{ \"color\": \"#000000\" }, { \"lightness\": 18 }] }, { \"featureType\": \"road.local\", \"elementType\": \"geometry\", \"stylers\": [{ \"color\": \"#000000\" }, { \"lightness\": 16 }] }, { \"featureType\": \"transit\", \"elementType\": \"geometry\", \"stylers\": [{ \"color\": \"#000000\" }, { \"lightness\": 19 }] }, { \"featureType\": \"water\", \"elementType\": \"geometry\", \"stylers\": [{ \"color\": \"#ed1d24\" }, { \"lightness\": 17 }] }, { \"featureType\": \"water\", \"elementType\": \"labels.text\", \"stylers\": [{ \"color\": \"#ffffff\" }] }],\r\n\t\t}\r\n\t\tvar map = new google.maps.Map(document.getElementById(\"map\"), mapOptions);\r\n\t\tvar locations = [{\r\n\t\t\tlat: 10.763806,\r\n\t\t\tlng: 106.691302,\r\n\t\t\tname: 'HO CHI MINH',\r\n\t\t\t// icon: 'resources/images/icons/icon_map.png',\r\n\t\t\taddress: '166A Trần Hưng Đạo ,P.Nguyễn Cư Trinh, Quận 1 ,TP. HCM',\r\n\t\t\tphone: '(+028) 3606 8688',\r\n\t\t},\r\n\t\t{\r\n\t\t\tlat: 10.776201,\r\n\t\t\tlng: 106.687059,\r\n\t\t\tname: 'Bảo Tàng Chứng Tích Chiến Tranh',\r\n\t\t\t// icon: 'resources/images/icons/icon_map.png',\r\n\t\t\taddress: '28 Võ Văn Tần, P.6, Quận 3, TP. Hồ Chí Minh, Việt Nam',\r\n\t\t\tphone: '+84 28 3930 5587',\r\n\t\t},\r\n\t\t];\r\n\r\n\t\tvar marker, i;\r\n\t\tvar infowindow = new google.maps.InfoWindow();\r\n\t\tgoogle.maps.event.addListener(map, 'click', function () {\r\n\t\t\tinfowindow.close();\r\n\t\t});\r\n\r\n\r\n\t\tfor (i = 0; i < locations.length; i++) {\r\n\t\t\tmarker = new google.maps.Marker({\r\n\t\t\t\tposition: new google.maps.LatLng(locations[i].lat, locations[i].lng),\r\n\t\t\t\tmap: map,\r\n\t\t\t\tanimation: google.maps.Animation.BOUNCE,\r\n\t\t\t\ticon: locations[i].icon,\r\n\t\t\t});\r\n\t\t\tgoogle.maps.event.addListener(marker, 'click', (function (marker, i) {\r\n\t\t\t\treturn function () {\r\n\t\t\t\t\tmap.setCenter(marker.getPosition());\r\n\t\t\t\t\tinfowindow.setContent(\r\n\t\t\t\t\t\t`<div class=\"maker-info\" style=\"width:100%\">\r\n\t\t\t\t\t\t\t<h4>${locations[i].name}</h4>\r\n\t\t\t\t\t\t\t<p><b>Địa chỉ:</b> ${locations[i].address}</p>\r\n\t\t\t\t\t\t\t<p><b>Điện thoại:</b>  ${locations[i].phone}</p>\r\n\t\t\t\t\t\t</div>`\r\n\t\t\t\t\t);\r\n\t\t\t\t\tmarker.addListener(\"click\", function () {\r\n\t\t\t\t\t\tif (marker.getAnimation() !== null) {\r\n\t\t\t\t\t\t\tmarker.setAnimation(null);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tmarker.setAnimation(google.maps.Animation.BOUNCE);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\tinfowindow.open(map, marker);\r\n\t\t\t\t}\r\n\t\t\t})(marker, i));\r\n\r\n\t\t\tmarkers.push(marker);\r\n\r\n\t\t\tgoogle.maps.event.addListener(map, \"center_changed\", function () {\r\n\t\t\t\t// getLocationInViewPort(map, locations);\r\n\t\t\t\tvar listMapInViewPort = getLocationInViewPort(map, locations);\r\n\t\t\t\tdocument.getElementById(\"map-list\").innerHTML = \"\"\r\n\t\t\t\tlistMapInViewPort.forEach(function (location) {\r\n\t\t\t\t\tdocument.getElementById(\"map-list\").innerHTML = `\r\n\t\t\t\t\t\t<div class=\"map-item\">\r\n\t\t\t\t\t\t\t<h4>${location.name}</h4>\r\n\t\t\t\t\t\t\t<p><b>Địa chỉ:</b> ${location.address}</p>\r\n\t\t\t\t\t\t\t<p><b>Điện thoại:</b>  ${location.phone}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t`\r\n\t\t\t\t\tconsole.log(location.name)\r\n\t\t\t\t\tconsole.log(location.address)\r\n\t\t\t\t\tconsole.log(location.phone)\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\t// tìm kiếm googlemap\r\n\t\tvar input = document.getElementById('searchmap');\r\n\t\tvar searchBox = new google.maps.places.SearchBox(input);\r\n\r\n\t\t// Bias the SearchBox results towards current map's viewport.\r\n\t\tmap.addListener('bounds_changed', function () {\r\n\t\t\tsearchBox.setBounds(map.getBounds());\r\n\t\t});\r\n\r\n\r\n\t\t// Listen for the event fired when the user selects a prediction and retrieve\r\n\t\t// more details for that place.\r\n\t\tvar bounds = new google.maps.LatLngBounds();\r\n\t\tsearchBox.addListener('places_changed', function () {\r\n\t\t\tvar places = searchBox.getPlaces();\r\n\r\n\t\t\tif (places.length == 0) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Clear out the old markers.\r\n\t\t\tmarkers.forEach(function (marker) {\r\n\t\t\t\tmarker.setMap(null);\r\n\t\t\t});\r\n\r\n\t\t\t// For each place, get the icon, name and location.\r\n\t\t\tplaces.forEach(function (place) {\r\n\t\t\t\tif (!place.geometry) {\r\n\t\t\t\t\tconsole.log(\"Returned place contains no geometry\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tvar icon = {\r\n\t\t\t\t\turl: place.icon,\r\n\t\t\t\t\tsize: new google.maps.Size(71, 71),\r\n\t\t\t\t\torigin: new google.maps.Point(0, 0),\r\n\t\t\t\t\tanchor: new google.maps.Point(17, 34),\r\n\t\t\t\t\tscaledSize: new google.maps.Size(25, 25)\r\n\t\t\t\t};\r\n\t\t\t\tconsole.log(place)\r\n\t\t\t\t// Create a marker for each place.\r\n\t\t\t\tmarkers.push(new google.maps.Marker({\r\n\t\t\t\t\tmap: map,\r\n\t\t\t\t\t// icon: icon,\r\n\t\t\t\t\t// center: new google.maps.LatLng(10.763806, 106.691302),\r\n\t\t\t\t\ttitle: place.name,\r\n\t\t\t\t\tanimation: google.maps.Animation.BOUNCE,\r\n\t\t\t\t\tzoom: 12,\r\n\t\t\t\t\tposition: place.geometry.location\r\n\t\t\t\t}));\r\n\r\n\t\t\t\tif (place.geometry.viewport) {\r\n\t\t\t\t\t// Only geocodes have viewport.\r\n\t\t\t\t\tbounds.union(place.geometry.viewport);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tbounds.extend(place.geometry.location);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tmap.fitBounds(bounds);\r\n\t\t});\r\n\t\tgoogle.maps.event.addDomListener(window, 'load', initialize);\r\n\t}\r\n}\r\n\r\ngoogle.maps.event.addDomListener(window, 'load', initialize);\r\n\r\nfunction myClick(id) {\r\n\tgoogle.maps.event.trigger(markers[id], 'click');\r\n\t$(\"html,body\").animate({\r\n\t\tscrollTop: $(\"#map\").offset().top - 70\r\n\t}, 1200)\r\n}"]}